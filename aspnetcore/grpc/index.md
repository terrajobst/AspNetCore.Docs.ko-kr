---
title: .NET Core에서 gRPC 소개
author: juntaoluo
description: Kestrel 서버 및 ASP.NET Core 스택을 사용하는 gRPC 서비스에 대해 알아봅니다.
monikerRange: '>= aspnetcore-3.0'
ms.author: johluo
ms.date: 09/20/2019
uid: grpc/index
ms.openlocfilehash: 88ceeba329ff2c7d764b7a5eabd5413da6ace765
ms.sourcegitcommit: 8a36be1bfee02eba3b07b7a86085ec25c38bae6b
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/24/2019
ms.locfileid: "71219129"
---
# <a name="introduction-to-grpc-on-net-core"></a><span data-ttu-id="24e3a-103">.NET Core에서 gRPC 소개</span><span class="sxs-lookup"><span data-stu-id="24e3a-103">Introduction to gRPC on .NET Core</span></span>

<span data-ttu-id="24e3a-104">작성자: [John Luo](https://github.com/juntaoluo) 및 [James Newton-King](https://twitter.com/jamesnk)</span><span class="sxs-lookup"><span data-stu-id="24e3a-104">By [John Luo](https://github.com/juntaoluo) and [James Newton-King](https://twitter.com/jamesnk)</span></span>

<span data-ttu-id="24e3a-105">[gRPC](https://grpc.io/docs/guides/)는 언어 제약이 없는 고성능 RPC(원격 프로시저 호출) 프레임워크입니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-105">[gRPC](https://grpc.io/docs/guides/) is a language agnostic, high-performance Remote Procedure Call (RPC) framework.</span></span>

<span data-ttu-id="24e3a-106">gRPC의 주요 이점은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-106">The main benefits of gRPC are:</span></span>
* <span data-ttu-id="24e3a-107">최신 고성능 경량 RPC 프레임워크.</span><span class="sxs-lookup"><span data-stu-id="24e3a-107">Modern high-performance lightweight RPC framework.</span></span>
* <span data-ttu-id="24e3a-108">기본적으로 프로토콜 버퍼를 사용하는 계약 우선 API 개발로, 언어 제약이 없는 구현이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-108">Contract-first API development, using Protocol Buffers by default, allowing for language agnostic implementations.</span></span>
* <span data-ttu-id="24e3a-109">강력한 형식의 서버 및 클라이언트를 생성하는 여러 언어에 사용할 수 있는 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-109">Tooling available for many languages to generate strongly-typed servers and clients.</span></span>
* <span data-ttu-id="24e3a-110">클라이언트, 서버 및 양방향 스트리밍 호출을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-110">Supports client, server, and bi-directional streaming calls.</span></span>
* <span data-ttu-id="24e3a-111">Protobuf 이진 serialization을 통한 네트워크 사용량 감소.</span><span class="sxs-lookup"><span data-stu-id="24e3a-111">Reduced network usage with Protobuf binary serialization.</span></span>

<span data-ttu-id="24e3a-112">이러한 이점으로 인해 gRPC가 다음과 같은 분야에 이상적이 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-112">These benefits make gRPC ideal for:</span></span>
* <span data-ttu-id="24e3a-113">효율성이 중요한 경량 마이크로 서비스.</span><span class="sxs-lookup"><span data-stu-id="24e3a-113">Lightweight microservices where efficiency is critical.</span></span>
* <span data-ttu-id="24e3a-114">개발을 위해 여러 언어가 필요한 다언어 시스템.</span><span class="sxs-lookup"><span data-stu-id="24e3a-114">Polyglot systems where multiple languages are required for development.</span></span>
* <span data-ttu-id="24e3a-115">스트리밍 요청 또는 응답을 처리해야 하는 지점 간 실시간 서비스.</span><span class="sxs-lookup"><span data-stu-id="24e3a-115">Point-to-point real-time services that need to handle streaming requests or responses.</span></span>

## <a name="c-tooling-support-for-proto-files"></a><span data-ttu-id="24e3a-116">.proto 파일의 C# 도구 지원</span><span class="sxs-lookup"><span data-stu-id="24e3a-116">C# Tooling support for .proto files</span></span>

<span data-ttu-id="24e3a-117">gRPC는 API 개발에 계약 중심 접근 방식을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-117">gRPC uses a contract-first approach to API development.</span></span> <span data-ttu-id="24e3a-118">서비스 및 메시지는 다음과 같은 *\*.proto* 파일에 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-118">Services and messages are defined in *\*.proto* files:</span></span>

```protobuf
syntax = "proto3";

service Greeter {
  rpc SayHello (HelloRequest) returns (HelloReply);
}

message HelloRequest {
  string name = 1;
}

message HelloReply {
  string message = 1;
}
```

<span data-ttu-id="24e3a-119">서비스, 클라이언트 및 메시지에 대한 .NET 형식은 프로젝트에서 *\*.proto* 파일을 포함하여 자동으로 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-119">.NET types for services, clients and messages are automatically generated by including *\*.proto* files in a project:</span></span>

* <span data-ttu-id="24e3a-120">패키지 참조를 [Grpc.Tools](https://www.nuget.org/packages/Grpc.Tools/) 패키지에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-120">Add a package reference to [Grpc.Tools](https://www.nuget.org/packages/Grpc.Tools/) package.</span></span>
* <span data-ttu-id="24e3a-121">`<Protobuf>` 항목 그룹에 *\*.proto* 파일을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-121">Add *\*.proto* files to the `<Protobuf>` item group.</span></span>

```xml
<ItemGroup>
  <Protobuf Include="Protos\greet.proto" />
</ItemGroup>
```

<span data-ttu-id="24e3a-122">gRPC 도구 지원에 대한 자세한 내용은 <xref:grpc/basics> 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="24e3a-122">For more information on gRPC tooling support, see <xref:grpc/basics>.</span></span>

## <a name="grpc-services-on-aspnet-core"></a><span data-ttu-id="24e3a-123">ASP.NET Core의 gRPC 서비스</span><span class="sxs-lookup"><span data-stu-id="24e3a-123">gRPC services on ASP.NET Core</span></span>

<span data-ttu-id="24e3a-124">gRPC 서비스는 ASP.NET Core에서 호스팅될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-124">gRPC services can be hosted on ASP.NET Core.</span></span> <span data-ttu-id="24e3a-125">서비스는 로깅, DI(종속성 주입), 인증 및 권한 부여와 같은 널리 사용되는 ASP.NET Core 기능과 완벽하게 통합됩니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-125">Services have full integration with popular ASP.NET Core features such as logging, dependency injection (DI), authentication and authorization.</span></span>

<span data-ttu-id="24e3a-126">gRPC 서비스 프로젝트 템플릿은 다음과 같은 시작 서비스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-126">The gRPC service project template provides a starter service:</span></span>

```csharp
public class GreeterService : Greeter.GreeterBase
{
    private readonly ILogger<GreeterService> _logger;

    public GreeterService(ILogger<GreeterService> logger)
    {
        _logger = logger;
    }

    public override Task<HelloReply> SayHello(HelloRequest request,
        ServerCallContext context)
    {
        _logger.LogInformation("Saying hello to {Name}", request.Name);
        return Task.FromResult(new HelloReply 
        {
            Message = "Hello " + request.Name
        });
    }
}
```

<span data-ttu-id="24e3a-127">`GreeterService`는 *\*.proto* 파일의 `Greeter` 서비스에서 생성되는 `GreeterBase` 형식에서 상속됩니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-127">`GreeterService` inherits from the `GreeterBase` type, which is generated from the `Greeter` service in the *\*.proto* file.</span></span> <span data-ttu-id="24e3a-128">*Startup.cs*의 클라이언트에서 서비스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-128">The service is made accessible to clients in *Startup.cs*:</span></span>

```csharp
app.UseEndpoints(endpoints =>
{
    endpoints.MapGrpcService<GreeterService>();
});
```

<span data-ttu-id="24e3a-129">ASP.NET Core의 gRPC 서비스에 대한 자세한 내용은 <xref:grpc/aspnetcore> 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="24e3a-129">To learn more about gRPC services on ASP.NET Core, see <xref:grpc/aspnetcore>.</span></span>

## <a name="call-grpc-services-with-a-net-client"></a><span data-ttu-id="24e3a-130">.NET 클라이언트로 gRPC 서비스 호출</span><span class="sxs-lookup"><span data-stu-id="24e3a-130">Call gRPC services with a .NET client</span></span>

<span data-ttu-id="24e3a-131">gRPC 클라이언트는 [ *\*.proto* 파일에서 생성](xref:grpc/basics#generated-c-assets)되는 구체적인 클라이언트 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-131">gRPC clients are concrete client types that are [generated from *\*.proto* files](xref:grpc/basics#generated-c-assets).</span></span> <span data-ttu-id="24e3a-132">구체적인 gRPC 클라이언트에는 *\*.proto* 파일에서 gRPC 서비스로 변환하는 메서드가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-132">The concrete gRPC client has methods that translate to the gRPC service in the *\*.proto* file.</span></span>

```csharp
var channel = GrpcChannel.ForAddress("https://localhost:5001");
var client = new Greeter.GreeterClient(channel);

var response = await client.SayHello(
    new HelloRequest { Name = "World" });

Console.WriteLine(response.Message);
```

<span data-ttu-id="24e3a-133">gRPC 클라이언트는 gRPC 서비스에 대한 장기간 연결을 나타내는 채널을 사용하여 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-133">A gRPC client is created using a channel, which represents a long-lived connection to a gRPC service.</span></span> <span data-ttu-id="24e3a-134">`GrpcChannel.ForAddress`를 사용하여 채널을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24e3a-134">A channel can be created using `GrpcChannel.ForAddress`.</span></span>

<span data-ttu-id="24e3a-135">클라이언트를 만들고 다른 서비스 메서드를 호출하는 방법에 대한 자세한 내용은 <xref:grpc/client> 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="24e3a-135">For more information on creating clients, and calling different service methods, see <xref:grpc/client>.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="24e3a-136">추가 자료</span><span class="sxs-lookup"><span data-stu-id="24e3a-136">Additional resources</span></span>

* <xref:grpc/basics>
* <xref:grpc/aspnetcore>
* <xref:grpc/client>
* <xref:grpc/clientfactory>
* <xref:tutorials/grpc/grpc-start>
